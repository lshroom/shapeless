<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Join the Shapeless Peace Movement</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0a0e27 0%, #1a1a3e 100%);
    color: #ffffff;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.container {
    max-width: 600px;
    width: 100%;
}

.join-card {
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(0, 255, 255, 0.5);
    border-radius: 20px;
    padding: 50px;
    backdrop-filter: blur(10px);
    box-shadow: 0 20px 60px rgba(0, 255, 255, 0.3);
    text-align: center;
}

.logo {
    font-size: 80px;
    margin-bottom: 20px;
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
}

h1 {
    font-size: 2.5em;
    color: #00ffff;
    margin-bottom: 20px;
    text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
}

.referral-info {
    background: rgba(0, 0, 0, 0.3);
    padding: 20px;
    border-radius: 10px;
    margin: 30px 0;
    border-left: 4px solid #00ffff;
}

.referral-info p {
    color: #cccccc;
    font-size: 1.1em;
}

.referral-info .referrer {
    color: #00ffff;
    font-weight: bold;
    font-size: 1.3em;
}

.form-group {
    margin: 20px 0;
    text-align: left;
}

.form-group label {
    display: block;
    color: #00ffff;
    margin-bottom: 8px;
    font-weight: bold;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 15px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 8px;
    color: #ffffff;
    font-size: 1em;
    transition: all 0.3s;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #00ffff;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.checkbox-group {
    margin: 25px 0;
    text-align: left;
}

.checkbox-group label {
    display: flex;
    align-items: flex-start;
    color: #cccccc;
    cursor: pointer;
}

.checkbox-group input[type="checkbox"] {
    margin-right: 10px;
    margin-top: 3px;
    width: 20px;
    height: 20px;
}

.btn-join {
    width: 100%;
    padding: 20px;
    font-size: 1.5em;
    font-weight: bold;
    background: linear-gradient(135deg, #00ffff 0%, #0088ff 100%);
    color: #000;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    margin-top: 20px;
}

.btn-join:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 40px rgba(0, 255, 255, 0.6);
}

.btn-join:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.features-list {
    text-align: left;
    margin: 30px 0;
}

.features-list h3 {
    color: #00ffff;
    margin-bottom: 15px;
}

.features-list ul {
    list-style: none;
}

.features-list li {
    padding: 10px 0;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
    color: #cccccc;
}

.features-list li:before {
    content: "‚úì ";
    color: #00ffff;
    font-weight: bold;
    margin-right: 10px;
}

.success-message {
    display: none;
    background: rgba(0, 255, 0, 0.1);
    border: 2px solid #00ff00;
    padding: 30px;
    border-radius: 15px;
    text-align: center;
}

.success-message h2 {
    color: #00ff00;
    margin-bottom: 20px;
}

.success-message p {
    color: #cccccc;
    font-size: 1.1em;
    margin: 15px 0;
}

.next-steps {
    background: rgba(0, 0, 0, 0.3);
    padding: 20px;
    border-radius: 10px;
    margin-top: 20px;
    text-align: left;
}

.next-steps h3 {
    color: #00ffff;
    margin-bottom: 15px;
}

.next-steps ol {
    color: #cccccc;
    padding-left: 20px;
}

.next-steps li {
    margin: 10px 0;
}
</style>
</head>
<body>

<div class="container">
    <div class="join-card" id="joinForm">
        <div class="logo">üè¥‚Äç‚ò†Ô∏è</div>
        <h1>Join the Movement</h1>
        <p style="color: #cccccc; font-size: 1.2em;">Create music. Build peace. Change the world.</p>

        <div class="referral-info" id="referralInfo" style="display: none;">
            <p>You were invited by:</p>
            <p class="referrer" id="referrerName">Loading...</p>
        </div>

        <form onsubmit="submitJoin(event)">
            <div class="form-group">
                <label>Your Name *</label>
                <input type="text" id="name" required placeholder="Enter your full name">
            </div>

            <div class="form-group">
                <label>Email *</label>
                <input type="email" id="email" required placeholder="your@email.com">
            </div>

            <div class="form-group">
                <label>Location *</label>
                <input type="text" id="location" required placeholder="City, Country">
            </div>

            <div class="form-group">
                <label>Musical Skills/Interests</label>
                <select id="skills">
                    <option value="">Select your primary skill...</option>
                    <option value="vocals">Vocals</option>
                    <option value="guitar">Guitar</option>
                    <option value="bass">Bass</option>
                    <option value="drums">Drums/Percussion</option>
                    <option value="keys">Keyboard/Piano</option>
                    <option value="production">Music Production</option>
                    <option value="mixing">Mixing/Mastering</option>
                    <option value="writing">Songwriting</option>
                    <option value="other">Other</option>
                    <option value="none">No musical background (but interested!)</option>
                </select>
            </div>

            <div class="form-group">
                <label>Why do you want to join? (Optional)</label>
                <textarea id="why" rows="4" placeholder="Tell us what inspires you about this movement..."></textarea>
            </div>

            <div class="features-list">
                <h3>What You'll Get:</h3>
                <ul>
                    <li>Access to collaborative music creation tools</li>
                    <li>Join an AI-moderated Discord community</li>
                    <li>Be assigned to a creative team (5-10 people)</li>
                    <li>Unique invite link to grow your network</li>
                    <li>Participate in the coordinated wave launch</li>
                    <li>Be part of a global movement for peace</li>
                </ul>
            </div>

            <div class="checkbox-group">
                <label>
                    <input type="checkbox" id="agree" required>
                    <span>I commit to respectful dialogue, collaborative creation, and inviting at least 2 people per week to help the movement grow *</span>
                </label>
            </div>

            <button type="submit" class="btn-join" id="submitBtn">
                üåä Join the Wave
            </button>
        </form>
    </div>

    <div class="join-card success-message" id="successMessage">
        <div style="font-size: 80px; margin-bottom: 20px;">üéâ</div>
        <h2>Welcome to Shapeless!</h2>
        <p>You're now part of the movement for peace through music.</p>

        <div class="next-steps">
            <h3>Next Steps:</h3>
            <ol>
                <li>Check your email for Discord invite link</li>
                <li>Join your assigned team channel</li>
                <li>Get your unique referral link from the dashboard</li>
                <li>Start inviting 2 people this week</li>
                <li>Begin collaborating on your team's track</li>
            </ol>
        </div>

        <button class="btn-join" onclick="goToDashboard()" style="margin-top: 30px;">
            üìä Go to Dashboard
        </button>
    </div>
</div>

<script>
// Parse referral code from URL
const urlParams = new URLSearchParams(window.location.search);
const referralCode = urlParams.get('ref') || urlParams.get('r');

if (referralCode) {
    document.getElementById('referralInfo').style.display = 'block';
    // In a real app, you'd fetch the referrer's name from your database
    document.getElementById('referrerName').textContent = `@${referralCode}`;
}

function submitJoin(event) {
    event.preventDefault();

    const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        location: document.getElementById('location').value,
        skills: document.getElementById('skills').value,
        why: document.getElementById('why').value,
        referredBy: referralCode,
        timestamp: new Date().toISOString()
    };

    // Show loading state
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'Joining...';

    // Simulate API call (replace with actual backend)
    setTimeout(() => {
        console.log('New member:', formData);

        // In a real app, send to your backend:
        // fetch('/api/join', {
        //     method: 'POST',
        //     headers: { 'Content-Type': 'application/json' },
        //     body: JSON.stringify(formData)
        // });

        // Store in localStorage for demo
        localStorage.setItem('shapeless_user', JSON.stringify(formData));

        // Show success
        document.getElementById('joinForm').style.display = 'none';
        document.getElementById('successMessage').style.display = 'block';
    }, 1500);
}

function goToDashboard() {
    window.location.href = '/dashboard.html';
}
</script>

</body>
</html>
